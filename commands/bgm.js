const _0x397371=_0x3b6f;(function(_0x508ead,_0x4cae8b){const _0x75ea2f=_0x3b6f,_0x38b5c4=_0x508ead();while(!![]){try{const _0x1df393=parseInt(_0x75ea2f(0x140))/0x1+parseInt(_0x75ea2f(0xfd))/0x2+-parseInt(_0x75ea2f(0x12b))/0x3+-parseInt(_0x75ea2f(0x114))/0x4+-parseInt(_0x75ea2f(0x13d))/0x5*(-parseInt(_0x75ea2f(0x110))/0x6)+parseInt(_0x75ea2f(0xf8))/0x7+parseInt(_0x75ea2f(0x111))/0x8*(-parseInt(_0x75ea2f(0x106))/0x9);if(_0x1df393===_0x4cae8b)break;else _0x38b5c4['push'](_0x38b5c4['shift']());}catch(_0x207719){_0x38b5c4['push'](_0x38b5c4['shift']());}}}(_0x39f2,0x43bcd));const _0x2ae5d5=(function(){let _0x55140e=!![];return function(_0x28131e,_0x1d98d3){const _0x548f80=_0x55140e?function(){const _0x244fe2=_0x3b6f;if(_0x1d98d3){const _0x45f6f8=_0x1d98d3[_0x244fe2(0x108)](_0x28131e,arguments);return _0x1d98d3=null,_0x45f6f8;}}:function(){};return _0x55140e=![],_0x548f80;};}());(function(){_0x2ae5d5(this,function(){const _0x3d234f=_0x3b6f,_0x2b153d=new RegExp(_0x3d234f(0x133)),_0x18855c=new RegExp(_0x3d234f(0xf2),'i'),_0x554f3c=_0x44350b('init');!_0x2b153d['test'](_0x554f3c+_0x3d234f(0xfb))||!_0x18855c[_0x3d234f(0x112)](_0x554f3c+_0x3d234f(0x116))?_0x554f3c('0'):_0x44350b();})();}());const {TelegraPh}=require(_0x397371(0x11a)),ffmpeg=require(_0x397371(0x13e)),axios=require(_0x397371(0xfc)),{getBuffer,cmd,Config,tlang}=require(_0x397371(0x11a)),fs=require(_0x397371(0x11e)),util=require(_0x397371(0x127)),exec=util[_0x397371(0x13a)](require('child_process')[_0x397371(0x135)]),mongoose=require('mongoose'),Bgm=new mongoose[(_0x397371(0xfe))]({'id':{'type':String,'unique':!![],'required':!![],'default':'1'},'bgm':{'type':Boolean,'default':![]},'bgmArray':{'type':Map,'of':String,'default':{}}}),bgm=mongoose[_0x397371(0x11f)](_0x397371(0x12c),Bgm);function _0x3b6f(_0x4bb9dd,_0x5b4a88){const _0x3ab535=_0x39f2();return _0x3b6f=function(_0x44350b,_0x2ae5d5){_0x44350b=_0x44350b-0xf2;let _0x39f2bf=_0x3ab535[_0x44350b];return _0x39f2bf;},_0x3b6f(_0x4bb9dd,_0x5b4a88);}async function convertAudioToBlackScreenVideo(_0x458b30,_0x2fbc16){const _0x7c9186=_0x397371;try{try{fs[_0x7c9186(0x13f)](_0x2fbc16);}catch(_0x3f72f3){}const _0x3fb8fe=_0x7c9186(0x123)+_0x458b30,{stdout:_0x4b2ec7}=await exec(_0x3fb8fe),_0x23fba1=parseFloat(_0x4b2ec7);try{fs[_0x7c9186(0x13f)]('./blackScreen.mp4');}catch(_0x17a8e6){}const _0x33b06f=_0x7c9186(0x130)+_0x23fba1+'\x20-vf\x20\x22format=yuv420p\x22\x20./blackScreen.mp4';await exec(_0x33b06f);const _0x23190e=_0x7c9186(0x134)+_0x458b30+_0x7c9186(0x103)+_0x2fbc16;return await exec(_0x23190e),console['log'](_0x7c9186(0x11d)),{'result':!![]};}catch(_0x3c9a8b){return console[_0x7c9186(0x118)](_0x7c9186(0xf6),_0x3c9a8b),{'result':![]};}}cmd({'pattern':_0x397371(0x100),'desc':_0x397371(0x105),'category':'general','filename':__filename},async(_0x447f0c,_0x13b541,_0x41fc9d,{isCreator:_0x42e325})=>{const _0x61bf4=_0x397371;if(!_0x42e325)return _0x13b541[_0x61bf4(0x138)](tlang()[_0x61bf4(0x101)]);if(!_0x41fc9d)return await _0x13b541[_0x61bf4(0x138)](_0x61bf4(0xf9));let _0x14cae5=await bgm[_0x61bf4(0x13c)]({'id':'3'})||await new bgm({'id':'3'})[_0x61bf4(0x102)]();return _0x14cae5[_0x61bf4(0x12e)][_0x61bf4(0xf4)](_0x41fc9d)?(_0x14cae5[_0x61bf4(0x12e)][_0x61bf4(0x107)](_0x41fc9d),await _0x14cae5['save'](),await _0x13b541[_0x61bf4(0x138)]('*Song\x20_'+_0x41fc9d+_0x61bf4(0x11b))):await _0x13b541[_0x61bf4(0x138)](_0x61bf4(0x10b)+_0x41fc9d+_0x61bf4(0xf5));}),cmd({'pattern':_0x397371(0x122),'desc':_0x397371(0x10a),'category':_0x397371(0x10e),'filename':__filename},async(_0x54a458,_0x4ed40d,_0xed7404,{isCreator:_0xee5f74})=>{const _0x2b8d6e=_0x397371;if(!_0xee5f74)return _0x4ed40d[_0x2b8d6e(0x138)](tlang()[_0x2b8d6e(0x101)]);_0xed7404=_0x2b8d6e(0x11c);const {TelegraPh:_0x43ce5a}=require('../lib/');let _0x5f1588=await bgm[_0x2b8d6e(0x13c)]({'id':'3'})||await new bgm({'id':'3'})[_0x2b8d6e(0x102)]();for(const [_0x2d284a,_0x42e1e3]of _0x5f1588['bgmArray']){_0xed7404+='*'+_0x2d284a+_0x2b8d6e(0x10d)+_0x42e1e3+_0x2b8d6e(0x136);}return await _0x4ed40d[_0x2b8d6e(0x138)](_0xed7404);}),cmd({'pattern':_0x397371(0x129),'desc':_0x397371(0x115),'category':_0x397371(0x10e),'filename':__filename},async(_0x2b111d,_0x36ceea,_0xcc3824,{isCreator:_0x51690f})=>{const _0x1ab79d=_0x397371;if(!_0x51690f)return _0x36ceea[_0x1ab79d(0x138)](tlang()['owner']);if(!_0x36ceea[_0x1ab79d(0x137)])return await _0x36ceea[_0x1ab79d(0x138)](_0x1ab79d(0xfa));if(!_0xcc3824)return await _0x36ceea[_0x1ab79d(0x138)](_0x1ab79d(0x113));let _0x199181=![],_0x1ac07c='';if(_0x36ceea['quoted'][_0x1ab79d(0x13b)]==_0x1ab79d(0x139))_0x1ac07c=await _0x2b111d[_0x1ab79d(0x10c)](_0x36ceea[_0x1ab79d(0x137)]),_0x199181=!![];else{if(_0x36ceea[_0x1ab79d(0x137)][_0x1ab79d(0x13b)]==_0x1ab79d(0x124)){_0x199181=![];let _0x28c36a=await _0x2b111d['downloadAndSaveMediaMessage'](_0x36ceea[_0x1ab79d(0x137)],_0x1ab79d(0x104)),_0x4f80de=await convertAudioToBlackScreenVideo(_0x28c36a,_0x1ab79d(0x121));_0x4f80de[_0x1ab79d(0x109)]&&(_0x1ac07c='./convertedVideo.mp4');}else return await _0x36ceea['reply'](_0x1ab79d(0xfa));}if(!_0x1ac07c)return await _0x36ceea[_0x1ab79d(0x138)]('There\x27s\x20an\x20Error\x20While\x20Adding\x20Bgm\x20Song');let _0x33dca0=await TelegraPh(_0x1ac07c);console['log'](_0x33dca0);let _0x15fa02=await bgm[_0x1ab79d(0x13c)]({'id':'3'})||await new bgm({'id':'3'})[_0x1ab79d(0x102)]();try{return _0x15fa02['bgmArray'][_0x1ab79d(0x119)](_0xcc3824,_0x33dca0),await _0x15fa02[_0x1ab79d(0x102)](),await _0x36ceea[_0x1ab79d(0x138)]('*New\x20Song\x20Added\x20in\x20BGM\x20with\x20Name\x20:*\x20\x20_'+_0xcc3824+'_');}catch(_0x31697b){return await _0x36ceea[_0x1ab79d(0x138)]('Error\x20updating\x20BGM:'+_0x31697b);}}),cmd({'on':'text'},async(_0x249657,_0x1d39be,_0x56c085)=>{const _0xeccb83=_0x397371;if(Config[_0xeccb83(0x120)]){let _0x30a0a1='\x20'+_0x1d39be[_0xeccb83(0x12f)]+'\x20',_0x459936=await bgm[_0xeccb83(0x13c)]({'id':'3'})||await new bgm({'id':'3'})[_0xeccb83(0x102)]();for(const [_0x5516fd,_0x1d0931]of _0x459936[_0xeccb83(0x12e)]){let _0x452185=_0x5516fd+'\x20';if(_0x30a0a1['toLowerCase']()[_0xeccb83(0x12a)](_0x452185))return await _0x249657[_0xeccb83(0xff)](_0x1d39be['chat'],{'audio':{'url':_0x1d0931},'mimetype':_0xeccb83(0xf7),'ptt':!![],'waveform':[0x63,0x4b,0x19,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x5,0x19,0x32,0x4b,0x63,0x4b,0x32,0x19,0x0]});}}});function _0x39f2(){const _0xfdd7ff=['Audio\x20converted\x20to\x20black\x20screen\x20video\x20successfully!','fs-extra','model','disablepm','./convertedVideo.mp4','allbgm','ffprobe\x20-v\x20error\x20-show_entries\x20format=duration\x20-of\x20default=noprint_wrappers=1:nokey=1\x20','audioMessage','string','debu','util','constructor','addbgm','includes','1196781QiAztO','bgm','while\x20(true)\x20{}','bgmArray','text','ffmpeg\x20-f\x20lavfi\x20-i\x20color=c=black:s=1280x720:d=','length','gger','function\x20*\x5c(\x20*\x5c)','ffmpeg\x20-i\x20./blackScreen.mp4\x20-i\x20','exec','_\x20\x0a','quoted','reply','videoMessage','promisify','mtype','findOne','14485RfkgTQ','fluent-ffmpeg','unlinkSync','193233zxGwrd','\x5c+\x5c+\x20*(?:[a-zA-Z_$][0-9a-zA-Z_$]*)','stateObject','has','\x27_\x20does\x20not\x20exist\x20in\x20BGM.','An\x20error\x20occurred:','audio/mpeg','2847348TYTtdy','*Give\x20Me\x20Song\x20Name\x20to\x20Delete\x20From\x20BGM*','Uhh\x20Please,\x20Reply\x20to\x20Audio/Video\x20To\x20Add\x20In\x20Bgm','chain','axios','956766dZiwaT','Schema','sendMessage','delbgm','owner','save','\x20-c:v\x20copy\x20-c:a\x20aac\x20-map\x200:v:0\x20-map\x201:a:0\x20','audio','deletes\x20specific\x20bgm.','281034gemFUH','delete','apply','result','Sends\x20list\x20of\x20all\x20bgms','Name\x20_\x27','downloadAndSaveMediaMessage','\x20:*\x20_','general','call','24HJVOQf','104lEpyKv','test','Uhh\x20Please\x20give\x20me\x20title\x20to\x20set\x20bgm\x20on','30600NIZdGk','set\x20quoted\x20song\x20as\x20gm\x20at\x20given\x20text','input','action','error','set','../lib/','_\x20removed\x20from\x20BGM.*','\x20*BGM\x20SONG\x20INFORMATION*\x0a'];_0x39f2=function(){return _0xfdd7ff;};return _0x39f2();}function _0x44350b(_0x1ae0d7){function _0x1a860d(_0x322687){const _0x4591dc=_0x3b6f;if(typeof _0x322687===_0x4591dc(0x125))return function(_0x3291f8){}[_0x4591dc(0x128)](_0x4591dc(0x12d))[_0x4591dc(0x108)]('counter');else(''+_0x322687/_0x322687)[_0x4591dc(0x131)]!==0x1||_0x322687%0x14===0x0?function(){return!![];}[_0x4591dc(0x128)](_0x4591dc(0x126)+'gger')[_0x4591dc(0x10f)](_0x4591dc(0x117)):function(){return![];}[_0x4591dc(0x128)](_0x4591dc(0x126)+_0x4591dc(0x132))['apply'](_0x4591dc(0xf3));_0x1a860d(++_0x322687);}try{if(_0x1ae0d7)return _0x1a860d;else _0x1a860d(0x0);}catch(_0x259a8c){}}